# Common Module - Transport Layer Structures

This module provides polars-free wrapper structures for data generated by the compute module. It serves as a transport layer between different components (e.g., API, compute module) without requiring polars dependencies.

## Overview

The common module includes three main components:

1. **Statistics** - Wrapper structures for account statistics
2. **Timeseries** - Wrapper structures for account state data over time  
3. **Converters** - Utilities for bridging with the compute module

## Key Features

- **No Polars Dependency**: All structures use standard Rust types and can be easily serialized/deserialized
- **Transport Friendly**: Designed for use in APIs and inter-module communication
- **Type Safe**: Leverages Rust's type system for safe data handling
- **Well Tested**: Comprehensive test coverage for all functionality

## Structure

The module contains three main files:

- `statistics.rs` - Account statistics wrapper structures
- `timeseries.rs` - Account state timeseries wrapper structures  
- `converters.rs` - Conversion utilities for bridging with compute module

## Usage

Add the common module as a dependency and use the wrapper structures:

```toml
[dependencies]
common = { path = "../common" }
```

Then import and use the structures:

```rust
use common::{
    AccountStatistics, AccountStatisticsCollection, TimePeriod,
    AccountStatePoint, AccountStateTimeseries, DateRange
};
```

## Integration with Compute Module

The common module is designed to work seamlessly with the compute module through the converter utilities. The compute module can use these converters to transform polars DataFrames and AccountStats into transport-friendly structures.

## Testing

Run the tests with:

```bash
cargo test
```

All tests pass without requiring polars or any heavy dependencies, making the module lightweight and suitable for transport layer usage.

## Dependencies

The module only depends on:
- `rust_decimal` - For precise decimal arithmetic
- `chrono` - For date/time handling
- `tracing` - For logging (optional)

No polars dependency is required, making it suitable for use in APIs and other transport layers.